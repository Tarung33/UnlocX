{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\unlocx\\\\UnlocX\\\\client\\\\src\\\\contexts\\\\GoalContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { getGoals, createGoal, updateGoalProgress, deleteGoal } from '../utils/api';\nimport { useAuth } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GoalContext = /*#__PURE__*/createContext();\nexport function useGoals() {\n  _s();\n  return useContext(GoalContext);\n}\n_s(useGoals, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function GoalProvider({\n  children\n}) {\n  _s2();\n  const [goals, setGoals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    isAuthenticated\n  } = useAuth();\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchGoals();\n    } else {\n      setGoals([]);\n      setLoading(false);\n    }\n  }, [isAuthenticated]);\n  const fetchGoals = async () => {\n    try {\n      setLoading(true);\n      const res = await getGoals();\n      setGoals(res.data.data);\n      setLoading(false);\n    } catch (err) {\n      console.error('Error fetching goals:', err);\n      setLoading(false);\n    }\n  };\n  const addGoal = async goalData => {\n    try {\n      const res = await createGoal(goalData);\n      setGoals([...goals, res.data.data]);\n      return res.data.data;\n    } catch (err) {\n      console.error('Error adding goal:', err);\n      throw err;\n    }\n  };\n  const updateProgress = async (id, progressData) => {\n    try {\n      const res = await updateGoalProgress(id, progressData);\n      setGoals(goals.map(goal => goal._id === id ? res.data.data : goal));\n      return res.data.data;\n    } catch (err) {\n      console.error('Error updating goal progress:', err);\n      throw err;\n    }\n  };\n  const removeGoal = async id => {\n    try {\n      await deleteGoal(id);\n      setGoals(goals.filter(goal => goal._id !== id));\n    } catch (err) {\n      console.error('Error deleting goal:', err);\n      throw err;\n    }\n  };\n  const value = {\n    goals,\n    loading,\n    fetchGoals,\n    addGoal,\n    updateProgress,\n    removeGoal,\n    completedGoals: goals.filter(goal => goal.completed),\n    inProgressGoals: goals.filter(goal => !goal.completed)\n  };\n  return /*#__PURE__*/_jsxDEV(GoalContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s2(GoalProvider, \"06wfg0p8VQkbkciCRboq/cyks7o=\", false, function () {\n  return [useAuth];\n});\n_c = GoalProvider;\nvar _c;\n$RefreshReg$(_c, \"GoalProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","getGoals","createGoal","updateGoalProgress","deleteGoal","useAuth","jsxDEV","_jsxDEV","GoalContext","useGoals","_s","GoalProvider","children","_s2","goals","setGoals","loading","setLoading","isAuthenticated","fetchGoals","res","data","err","console","error","addGoal","goalData","updateProgress","id","progressData","map","goal","_id","removeGoal","filter","value","completedGoals","completed","inProgressGoals","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/unlocx/UnlocX/client/src/contexts/GoalContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { getGoals, createGoal, updateGoalProgress, deleteGoal } from '../utils/api';\r\nimport { useAuth } from './AuthContext';\r\n\r\nconst GoalContext = createContext();\r\n\r\nexport function useGoals() {\r\n  return useContext(GoalContext);\r\n}\r\n\r\nexport function GoalProvider({ children }) {\r\n  const [goals, setGoals] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { isAuthenticated } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      fetchGoals();\r\n    } else {\r\n      setGoals([]);\r\n      setLoading(false);\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  const fetchGoals = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await getGoals();\r\n      setGoals(res.data.data);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error('Error fetching goals:', err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addGoal = async (goalData) => {\r\n    try {\r\n      const res = await createGoal(goalData);\r\n      setGoals([...goals, res.data.data]);\r\n      return res.data.data;\r\n    } catch (err) {\r\n      console.error('Error adding goal:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const updateProgress = async (id, progressData) => {\r\n    try {\r\n      const res = await updateGoalProgress(id, progressData);\r\n      setGoals(goals.map(goal => goal._id === id ? res.data.data : goal));\r\n      return res.data.data;\r\n    } catch (err) {\r\n      console.error('Error updating goal progress:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const removeGoal = async (id) => {\r\n    try {\r\n      await deleteGoal(id);\r\n      setGoals(goals.filter(goal => goal._id !== id));\r\n    } catch (err) {\r\n      console.error('Error deleting goal:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    goals,\r\n    loading,\r\n    fetchGoals,\r\n    addGoal,\r\n    updateProgress,\r\n    removeGoal,\r\n    completedGoals: goals.filter(goal => goal.completed),\r\n    inProgressGoals: goals.filter(goal => !goal.completed),\r\n  };\r\n\r\n  return (\r\n    <GoalContext.Provider value={value}>\r\n      {children}\r\n    </GoalContext.Provider>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}